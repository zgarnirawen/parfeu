<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<AnchorPane xmlns:fx="http://javafx.com/fxml" fx:id="rootPane" prefWidth="650" prefHeight="750" style="-fx-background-color: linear-gradient(to bottom, #E3F2FD, #FFF3E0);">

    <!-- Header -->
    <VBox fx:id="headerBox" prefHeight="80" spacing="10" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" style="-fx-background-color: linear-gradient(to right, #1976D2, #FF6F00); -fx-alignment: center; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 8,0,0,2);">
        <Label text="⚙️ Pare-feu Configurations" style="-fx-text-fill: white;">
            <font>
                <Font name="Arial Black" size="24"/>
            </font>
        </Label>
    </VBox>

    <!-- Scrollable Content -->
    <ScrollPane fx:id="scrollPane" AnchorPane.topAnchor="80" AnchorPane.bottomAnchor="60" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" fitToWidth="true" style="-fx-background-color: transparent;">
        <VBox spacing="20">
            <padding>
                <Insets top="25" right="25" bottom="25" left="25"/>
            </padding>

            <!-- Seuils de décision -->
            <TitledPane text="Seuils de décision" expanded="true" style="-fx-background-color: linear-gradient(to right, #64B5F6, #1976D2); -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 12; -fx-background-radius: 12; -fx-border-color: #1976D2; -fx-border-width: 2;">
                <GridPane hgap="15" vgap="15">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15"/>
                    </padding>
                    <Label text="Blocage:" GridPane.rowIndex="0" GridPane.columnIndex="0" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    <Spinner fx:id="blockThresholdSpinner" editable="true" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                    
                    <Label text="Alerte:" GridPane.rowIndex="1" GridPane.columnIndex="0" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    <Spinner fx:id="alertThresholdSpinner" editable="true" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                </GridPane>
            </TitledPane>

            <!-- Limites de taille -->
            <TitledPane text="Taille des paquets" expanded="true" style="-fx-background-color: linear-gradient(to right, #FFB74D, #FF6F00); -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 12; -fx-background-radius: 12; -fx-border-color: #FF6F00; -fx-border-width: 2;">
                <GridPane hgap="15" vgap="15">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15"/>
                    </padding>
                    <Label text="Taille min:" GridPane.rowIndex="0" GridPane.columnIndex="0" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    <TextField fx:id="minPacketSizeField" text="20" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                    
                    <Label text="Taille max:" GridPane.rowIndex="1" GridPane.columnIndex="0" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    <TextField fx:id="maxPacketSizeField" text="65535" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                </GridPane>
            </TitledPane>

            <!-- Mots suspects -->
            <TitledPane text="Mots suspects" expanded="true" style="-fx-background-color: linear-gradient(to right, #42A5F5, #1E88E5); -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 12; -fx-background-radius: 12; -fx-border-color: #1E88E5; -fx-border-width: 2;">
                <VBox spacing="10">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15"/>
                    </padding>
                    <ListView fx:id="suspiciousWordsList" prefHeight="120" style="-fx-background-color: #E3F2FD; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                    <HBox spacing="10">
                        <TextField fx:id="newSuspiciousWordField" promptText="Ajouter un mot"/>
                        <Button text="Ajouter" fx:id="addWordButton" style="-fx-background-color: #1976D2; -fx-text-fill: white; -fx-background-radius: 8; -fx-font-weight: bold;"/>
                        <Button text="Supprimer" fx:id="removeWordButton" style="-fx-background-color: #0D47A1; -fx-text-fill: white; -fx-background-radius: 8; -fx-font-weight: bold;"/>
                    </HBox>
                </VBox>
            </TitledPane>

            <!-- IPs blacklistees -->
            <TitledPane text="IPs blacklistées" expanded="true" style="-fx-background-color: linear-gradient(to right, #FF9800, #F57C00); -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 12; -fx-background-radius: 12; -fx-border-color: #F57C00; -fx-border-width: 2;">
                <VBox spacing="10">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15"/>
                    </padding>
                    <ListView fx:id="blacklistedIPsList" prefHeight="120" style="-fx-background-color: #FFF3E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                    <HBox spacing="10">
                        <TextField fx:id="newIPField" promptText="Ajouter une IP"/>
                        <Button text="Ajouter" fx:id="addIPButton" style="-fx-background-color: #FF6F00; -fx-text-fill: white; -fx-background-radius: 8; -fx-font-weight: bold;"/>
                        <Button text="Supprimer" fx:id="removeIPButton" style="-fx-background-color: #E65100; -fx-text-fill: white; -fx-background-radius: 8; -fx-font-weight: bold;"/>
                    </HBox>
                </VBox>
            </TitledPane>

            <!-- Ports surveillés -->
            <TitledPane text="Ports surveillés" expanded="true" style="-fx-background-color: linear-gradient(to right, #2196F3, #1565C0); -fx-text-fill: white; -fx-font-weight: bold; -fx-border-radius: 12; -fx-background-radius: 12; -fx-border-color: #1565C0; -fx-border-width: 2;">
                <VBox spacing="10">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15"/>
                    </padding>
                    <ListView fx:id="monitoredPortsList" prefHeight="120" style="-fx-background-color: #E3F2FD; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                    <HBox spacing="10">
                        <TextField fx:id="newPortField" promptText="Port (0-65535)"/>
                        <Button text="Ajouter" fx:id="addPortButton" style="-fx-background-color: #1976D2; -fx-text-fill: white; -fx-background-radius: 8; -fx-font-weight: bold;"/>
                        <Button text="Supprimer" fx:id="removePortButton" style="-fx-background-color: #0D47A1; -fx-text-fill: white; -fx-background-radius: 8; -fx-font-weight: bold;"/>
                    </HBox>
                </VBox>
            </TitledPane>

        </VBox>
    </ScrollPane>

    <!-- Bouton Back en bas -->
    <HBox alignment="CENTER" spacing="20" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" 
          style="-fx-background-color: #263238;">
        <padding>
            <Insets top="15" right="20" bottom="15" left="20"/>
        </padding>
        <Button fx:id="backBtn" text="← Retour au Menu" prefWidth="200" prefHeight="40"
                style="-fx-background-color: linear-gradient(to right, #1976D2, #FF6F00); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-font-size: 14;"/>
    </HBox>

</AnchorPane>