<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="800" prefWidth="950" 
            style="-fx-background-color: linear-gradient(to bottom, #0D47A1, #1565C0, #1976D2);" 
            xmlns="http://javafx.com/javafx/8.0.171" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.mycompany.parfeu.Controller.Rawen.BlockchainController">

    <BorderPane prefHeight="800.0" prefWidth="950.0">
        <!-- HEADER -->
        <top>
            <VBox alignment="CENTER" prefHeight="100.0" 
                  style="-fx-background-color: linear-gradient(to right, #FF6F00, #FF8F00);">
                <padding>
                    <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                </padding>
                <Label text="ðŸ”— BLOCKCHAIN HISTORY" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="32.0" />
                    </font>
                </Label>
                <Label text="Immutable ledger of firewall decisions" textFill="#FFE0B2">
                    <font>
                        <Font name="System Bold Italic" size="16.0" />
                    </font>
                </Label>
            </VBox>
        </top>

        <!-- CENTER -->
        <center>
            <VBox spacing="20.0">
                <padding>
                    <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                </padding>

                <!-- INFO PANEL - ðŸ”¥ TEXTE NOIR SUR FOND BLANC -->
                <HBox alignment="CENTER" spacing="30.0" 
                      style="-fx-background-color: #FFFFFF; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);">
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                    
                    <VBox alignment="CENTER" spacing="5">
                        <Label style="-fx-text-fill: #555555; -fx-font-weight: bold;" text="ðŸ“¦ TOTAL BLOCKS">
                            <font><Font name="System Bold" size="12.0" /></font>
                        </Label>
                        <Label fx:id="totalBlocksLabel" style="-fx-text-fill: #1976D2; -fx-font-weight: bold;" text="0">
                            <font><Font name="System Bold" size="28.0" /></font>
                        </Label>
                    </VBox>

                    <Separator orientation="VERTICAL" style="-fx-background-color: #CCCCCC;" />

                    <VBox alignment="CENTER" spacing="5">
                        <Label style="-fx-text-fill: #555555; -fx-font-weight: bold;" text="âœ… CHAIN STATUS">
                            <font><Font name="System Bold" size="12.0" /></font>
                        </Label>
                        <Label fx:id="chainStatusLabel" style="-fx-text-fill: #27ae60; -fx-font-weight: bold;" text="VALID">
                            <font><Font name="System Bold" size="20.0" /></font>
                        </Label>
                    </VBox>

                    <Separator orientation="VERTICAL" style="-fx-background-color: #CCCCCC;" />

                    <VBox alignment="CENTER" spacing="5">
                        <Label style="-fx-text-fill: #555555; -fx-font-weight: bold;" text="ðŸ• LAST UPDATE">
                            <font><Font name="System Bold" size="12.0" /></font>
                        </Label>
                        <Label fx:id="lastUpdateLabel" style="-fx-text-fill: #333333; -fx-font-weight: bold;" text="-">
                            <font><Font name="System Bold" size="14.0" /></font>
                        </Label>
                    </VBox>
                </HBox>

                <!-- TABLE VIEW - ðŸ”¥ FOND BLANC, TEXTE NOIR -->
                <VBox spacing="10" 
                      style="-fx-background-color: #FFFFFF; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);">
                    <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                    </padding>

                    <Label text="ðŸ“Š Block Records" textFill="#1976D2">
                        <font>
                            <Font name="System Bold" size="20.0" />
                        </font>
                    </Label>

                    <TableView fx:id="blockchainTable" prefHeight="450" 
                              style="-fx-background-color: white; -fx-text-fill: black;">
                        <columns>
                            <TableColumn fx:id="colBlockIndex" prefWidth="60" text="Block #" />
                            <TableColumn fx:id="colTimestamp" prefWidth="150" text="Timestamp" />
                            <TableColumn fx:id="colSrcIP" prefWidth="110" text="Source IP" />
                            <TableColumn fx:id="colDestIP" prefWidth="110" text="Dest IP" />
                            <TableColumn fx:id="colProtocol" prefWidth="70" text="Protocol" />
                            <TableColumn fx:id="colDecisions" prefWidth="150" text="Decisions" />
                            <TableColumn fx:id="colHash" prefWidth="180" text="Hash" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>

            </VBox>
        </center>

        <!-- BOTTOM -->
        <bottom>
            <HBox alignment="CENTER" prefHeight="80.0" spacing="20.0" 
                  style="-fx-background-color: #263238;">
                <padding>
                    <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                </padding>
                <Button fx:id="backBtn" prefHeight="45" prefWidth="180" 
                        style="-fx-background-color: #455A64; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-font-size: 14;" 
                        text="â† BACK TO MENU" />
                <Button fx:id="refreshBtn" prefHeight="45" prefWidth="150" 
                        style="-fx-background-color: linear-gradient(to right, #1976D2, #2196F3); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-font-size: 14;" 
                        text="ðŸ”„ REFRESH" />
                <Button fx:id="verifyBtn" prefHeight="45" prefWidth="180" 
                        style="-fx-background-color: linear-gradient(to right, #FF6F00, #FF8F00); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-font-size: 14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);" 
                        text="âœ“ VERIFY CHAIN" />
                <Button fx:id="exportBtn" prefHeight="45" prefWidth="150" 
                        style="-fx-background-color: linear-gradient(to right, #1565C0, #1976D2); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-font-size: 14;" 
                        text="ðŸ“¤ EXPORT" />
            </HBox>
        </bottom>
    </BorderPane>

</AnchorPane>