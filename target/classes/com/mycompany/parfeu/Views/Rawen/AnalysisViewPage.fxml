<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="783.0" prefWidth="618.0" style="-fx-background-color: #ecf0f1;" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controller.Rawen.AnalysisViewPageController">

    <!-- ===== Header ===== -->
    <top>
        <VBox alignment="CENTER" spacing="5" style="-fx-background-color: #34495e;">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>
            <Label fx:id="titleLabel" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white;" text="Analysis" />
            <Label fx:id="subtitleLabel" style="-fx-font-size: 14px; -fx-text-fill: #bdc3c7;" text="Detailed Packet Analysis Results" />
        </VBox>
    </top>

    <!-- ===== Center ===== -->
    <center>
        <ScrollPane fitToWidth="true">
            <content>
                <VBox fx:id="centerContent" spacing="20">
                    <padding>
                        <Insets bottom="20" left="20" right="20" top="20" />
                    </padding>

                    <!-- Threat Score Section -->
                    <VBox fx:id="scoreSection" alignment="CENTER" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>
                        <Label fx:id="scoreTitle" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="ðŸŽ¯ Threat Score Analysis" />
                        <HBox fx:id="scoreBox" alignment="CENTER" spacing="50">
                            <VBox>
                                <Label text="Action Taken:" />
                                <Label fx:id="actionLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #27ae60;" text="ACCEPT" />
                            </VBox>
                            <VBox>
                                <Label text="Threat Score:" />
                                <Label fx:id="scoreLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #e74c3c;" text="7 / 10" />
                            </VBox>
                        </HBox>
                        <VBox>
                            <Label text="Threat Level:" />
                            <ProgressBar fx:id="threatProgressBar" prefHeight="30" prefWidth="400" progress="0.7" style="-fx-accent: #e74c3c;" />
                        </VBox>
                    </VBox>

                    <!-- Signals Section -->
                    <VBox fx:id="signalsSection" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>
                        <Label fx:id="signalsTitle" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="âš ï¸ Detection Signals (2)" />
                        <VBox fx:id="signalsContainer" spacing="10">
                            <Label text="Signal 1: suspicious pattern" />
                            <Label text="Signal 2: unusual packet size" />
                        </VBox>
                    </VBox>

                    <!-- Details Section -->
                    <VBox fx:id="detailsSection" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>
                        <Label fx:id="detailsTitle" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="ðŸ“‹ Analysis Details" />
                        <TextArea fx:id="detailsArea" editable="false" prefHeight="200" text="Packet analysis details go here..." wrapText="true" />
                    </VBox>

                    <!-- Decision Section -->
                    <VBox fx:id="decisionSection" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>
                        <Label fx:id="decisionTitle" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="âš–ï¸ Final Decision" />
                        <Label fx:id="decisionLabel" style="-fx-font-size: 14px;" text="ACCEPT - Packet is safe" />
                    </VBox>

                </VBox>
            </content>
        </ScrollPane>
    </center>

    <!-- ===== Bottom Buttons ===== -->
    <bottom>
        <HBox alignment="CENTER" spacing="15" style="-fx-background-color: #34495e;">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>
            <Button fx:id="backBtn" style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-weight: bold;" text="â† Back" />
            <Button fx:id="saveBtn" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold;" text="ðŸ’¾ Save to Blockchain" />
        </HBox>
    </bottom>

</BorderPane>