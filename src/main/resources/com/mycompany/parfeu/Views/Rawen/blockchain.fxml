<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="800" prefWidth="950" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.mycompany.parfeu.Controller.Rawen.BlockchainController"
            style="-fx-background-color: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);">

    <BorderPane prefHeight="800.0" prefWidth="950.0">
        <!-- HEADER -->
        <top>
            <VBox alignment="CENTER" prefHeight="100.0" style="-fx-background-color: linear-gradient(to right, #ffa751, #ffe259);">
                <padding>
                    <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                </padding>
                <Label text="ðŸ”— BLOCKCHAIN HISTORY" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="32.0" />
                    </font>
                </Label>
                <Label text="Immutable ledger of firewall decisions" textFill="#FFF8DC">
                    <font>
                        <Font name="System Bold Italic" size="16.0" />
                    </font>
                </Label>
            </VBox>
        </top>

        <!-- CENTER -->
        <center>
            <VBox spacing="20.0">
                <padding>
                    <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                </padding>

                <!-- INFO PANEL -->
                <HBox alignment="CENTER" spacing="30.0" style="-fx-background-color: rgba(255,255,255,0.95); -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);">
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                    
                    <VBox alignment="CENTER" spacing="5">
                        <Label text="ðŸ“¦ TOTAL BLOCKS" style="-fx-text-fill: #7f8c8d;">
                            <font><Font name="System Bold" size="12.0" /></font>
                        </Label>
                        <Label fx:id="totalBlocksLabel" text="0" style="-fx-text-fill: #ffa751;">
                            <font><Font name="System Bold" size="28.0" /></font>
                        </Label>
                    </VBox>

                    <Separator orientation="VERTICAL" />

                    <VBox alignment="CENTER" spacing="5">
                        <Label text="âœ… CHAIN STATUS" style="-fx-text-fill: #7f8c8d;">
                            <font><Font name="System Bold" size="12.0" /></font>
                        </Label>
                        <Label fx:id="chainStatusLabel" text="VALID" style="-fx-text-fill: #27ae60;">
                            <font><Font name="System Bold" size="20.0" /></font>
                        </Label>
                    </VBox>

                    <Separator orientation="VERTICAL" />

                    <VBox alignment="CENTER" spacing="5">
                        <Label text="ðŸ• LAST UPDATE" style="-fx-text-fill: #7f8c8d;">
                            <font><Font name="System Bold" size="12.0" /></font>
                        </Label>
                        <Label fx:id="lastUpdateLabel" text="-" style="-fx-text-fill: #2c3e50;">
                            <font><Font name="System Bold" size="14.0" /></font>
                        </Label>
                    </VBox>
                </HBox>

                <!-- TABLE VIEW -->
                <VBox spacing="10" style="-fx-background-color: rgba(255,255,255,0.95); -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);">
                    <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                    </padding>

                    <Label text="ðŸ“Š Block Records" textFill="#ffa751">
                        <font>
                            <Font name="System Bold" size="20.0" />
                        </font>
                    </Label>

                    <TableView fx:id="blockchainTable" prefHeight="450"
                              style="-fx-background-color: #FAFAFA; -fx-background-radius: 8;">
                        <columns>
                            <TableColumn text="Block #" prefWidth="80" fx:id="colBlockIndex">
                                <cellValueFactory>
                                    <javafx.scene.control.cell.PropertyValueFactory property="index" />
                                </cellValueFactory>
                            </TableColumn>
                            
                            <TableColumn text="Timestamp" prefWidth="150" fx:id="colTimestamp">
                                <cellValueFactory>
                                    <javafx.scene.control.cell.PropertyValueFactory property="timestamp" />
                                </cellValueFactory>
                            </TableColumn>
                            
                            <TableColumn text="Source IP" prefWidth="120" fx:id="colSrcIP">
                                <cellValueFactory>
                                    <javafx.scene.control.cell.PropertyValueFactory property="srcIP" />
                                </cellValueFactory>
                            </TableColumn>
                            
                            <TableColumn text="Dest IP" prefWidth="120" fx:id="colDestIP">
                                <cellValueFactory>
                                    <javafx.scene.control.cell.PropertyValueFactory property="destIP" />
                                </cellValueFactory>
                            </TableColumn>
                            
                            <TableColumn text="Protocol" prefWidth="80" fx:id="colProtocol">
                                <cellValueFactory>
                                    <javafx.scene.control.cell.PropertyValueFactory property="protocol" />
                                </cellValueFactory>
                            </TableColumn>
                            
                            <TableColumn text="Decisions" prefWidth="80" fx:id="colDecisions">
                                <cellValueFactory>
                                    <javafx.scene.control.cell.PropertyValueFactory property="decisionsCount" />
                                </cellValueFactory>
                            </TableColumn>
                            
                            <TableColumn text="Hash" prefWidth="200" fx:id="colHash">
                                <cellValueFactory>
                                    <javafx.scene.control.cell.PropertyValueFactory property="hashShort" />
                                </cellValueFactory>
                            </TableColumn>
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </VBox>

            </VBox>
        </center>

        <!-- BOTTOM -->
        <bottom>
            <HBox alignment="CENTER" spacing="20.0" style="-fx-background-color: #1a1a2e;">
                <padding>
                    <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                </padding>
                <Button fx:id="backBtn" text="â† BACK TO MENU" prefWidth="180" prefHeight="45"
                        style="-fx-background-color: #16213e; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-font-size: 14;" />
                <Button fx:id="refreshBtn" text="ðŸ”„ REFRESH" prefWidth="150" prefHeight="45"
                        style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-font-size: 14;" />
                <Button fx:id="verifyBtn" text="âœ“ VERIFY CHAIN" prefWidth="180" prefHeight="45"
                        style="-fx-background-color: linear-gradient(to right, #ffa751, #ffe259); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-font-size: 14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);" />
                <Button fx:id="exportBtn" text="ðŸ“¤ EXPORT" prefWidth="150" prefHeight="45"
                        style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-font-size: 14;" />
            </HBox>
        </bottom>
    </BorderPane>

</AnchorPane>